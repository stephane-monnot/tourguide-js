<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TourGuide JS Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
<!--    <link rel="stylesheet" href="https://unpkg.com/@sjmc11/tourguidejs/dist/css/tour.min.css">-->
    <link rel="stylesheet" href="/dist/css/tour.min.css">
</head>
<body>

<div class="max-w-6xl mx-auto px-6 py-6 lg:pt-12">

    <h1 class="text-center text-2xl font-bold shadow-text">
        <span class="bg-clip-text text-transparent bg-gradient-to-b from-slate-400/75 to-slate-400" id="title">Basic HTML page for hands on testing</span>
    </h1>

    <button class="bg-indigo-600 text-white rounded px-4 py-2 mx-auto block hover:bg-indigo-700 mt-12" onclick="openTour()">
        <span>Start tour</span>
    </button><!-- end btn -->

    <div class="lg:grid lg:my-12 grid-cols-3 gap-12" id="grid-wrapper">
        <div class="card rounded bg-slate-100 p-12 my-6 border" id="card1">
            <h5 class="font-bold block mb-5">Example heading 1</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias consequuntur cumque deserunt doloribus eos esse ipsam ipsum nam neque nisi odio officiis, pariatur sit tenetur voluptatum. Deserunt facilis quos tempora?</p>
        </div><!-- end card -->
        <div class="card rounded bg-slate-100 p-12 my-6 border" id="card2">
            <h5 class="font-bold block mb-5">Example heading 2</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias consequuntur cumque deserunt doloribus eos esse ipsam ipsum nam neque nisi odio officiis, pariatur sit tenetur voluptatum. Deserunt facilis quos tempora?</p>
        </div><!-- end card -->
        <div class="card rounded bg-slate-100 p-12 my-6 border" id="card3">
            <h5 class="font-bold block mb-5">Example heading 3</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias consequuntur cumque deserunt doloribus eos esse ipsam ipsum nam neque nisi odio officiis, pariatur sit tenetur voluptatum. Deserunt facilis quos tempora?</p>
        </div><!-- end card -->
        <div class="card rounded bg-slate-100 p-12 my-6 border" id="card4" data-tg-tour="Step 1" data-tg-title="Example heading 1">
            <h5 class="font-bold block mb-5">Example heading 1</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias consequuntur cumque deserunt doloribus eos esse ipsam ipsum nam neque nisi odio officiis, pariatur sit tenetur voluptatum. Deserunt facilis quos tempora?</p>
        </div><!-- end card -->
        <div class="card rounded bg-slate-100 p-12 my-6 border" id="card5" data-tg-tour="Step 2" data-tg-title="Example heading 2">
            <h5 class="font-bold block mb-5">Example heading 2</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias consequuntur cumque deserunt doloribus eos esse ipsam ipsum nam neque nisi odio officiis, pariatur sit tenetur voluptatum. Deserunt facilis quos tempora?</p>
        </div><!-- end card -->
        <div class="card rounded bg-slate-100 p-12 my-6 border" id="card6" data-tg-tour="Step 3" data-tg-title="Example heading 3">
            <h5 class="font-bold block mb-5">Example heading 3</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias consequuntur cumque deserunt doloribus eos esse ipsam ipsum nam neque nisi odio officiis, pariatur sit tenetur voluptatum. Deserunt facilis quos tempora?</p>
        </div><!-- end card -->
        <div class="card rounded bg-slate-100 p-12 my-6 border" id="card7" data-tg-tour="Step 1" data-tg-title="Example heading 1">
            <h5 class="font-bold block mb-5">Example heading 1</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias consequuntur cumque deserunt doloribus eos esse ipsam ipsum nam neque nisi odio officiis, pariatur sit tenetur voluptatum. Deserunt facilis quos tempora?</p>
        </div><!-- end card -->
        <div class="card rounded bg-slate-100 p-12 my-6 border" id="card8" data-tg-tour="Step 2" data-tg-title="Example heading 2">
            <h5 class="font-bold block mb-5">Example heading 2</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias consequuntur cumque deserunt doloribus eos esse ipsam ipsum nam neque nisi odio officiis, pariatur sit tenetur voluptatum. Deserunt facilis quos tempora?</p>
        </div><!-- end card -->
        <div class="card rounded bg-slate-100 p-12 my-6 border" id="card9" data-tg-tour="Step 3" data-tg-title="Example heading 3" data-tg-propagate-events="true">
            <h5 class="font-bold block mb-5">Example heading 3</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias consequuntur cumque deserunt doloribus eos esse ipsam ipsum nam neque nisi odio officiis, pariatur sit tenetur voluptatum. Deserunt facilis quos tempora? <button onclick="alert('test')">Test button</button> </p>
        </div><!-- end card -->
    </div><!-- end grid -->

</div><!-- end container -->

<script src="dist/tour.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script type="text/javascript">
    const steps = [{
        content: "This is the title element",
        title: "Welcome aboard ðŸ‘‹",
        target: "#title",
        order: "",
        group: "groupA",
    },{
        content: "Grid wrapper",
        title: "Test positioning of a large element occupying the entire screen",
        target: "#grid-wrapper",
        dialogTarget: "#card1",
        order: "",
        group: "groupA"
    },{
        content: "Card One",
        title: "This is the first card",
        target: "#card1",
        order: "",
        group: "groupA",
        beforeEnter: ()=>{
            console.log('wait 6 seconds')
            return new Promise((resolve, reject) => {
                setTimeout(function () {  resolve(); }, 1000);
            })
        }
    },{
        content: "Card Deux",
        title: "This is the second card",
        target: "#card2",
        order: "",
        group: "groupA",
        beforeEnter: ()=>{
            return new Promise((resolve, reject) => {
                // Reject entering the step
                reject('skip step')
                // Prevent loading state from stopping step navigation
                tg._promiseWaiting = false
                // Get the desired step index based on direction
                let skipToIndex = 4
                if (tg.activeStep === 4) skipToIndex = 2
                // Visit the desired step
                tg.visitStep(skipToIndex)
            })
        }
    },{
        content: "Card Three",
        title: "This is the last card",
        target: "#card3",
        order: "",
        group: "groupA",
    }]

    const tg = new tourguide.TourGuideClient({
        steps: steps,
        group: "groupA",
        completeOnFinish: true,
        allowDialogOverlap: true,
        propagateEvents: true,
    })

    // const triggerBtn = document.getElementById('tourTrigger')

    // tg.onBeforeStepChange(()=>{
    //     return new Promise((resolve, reject) => {
    //         setTimeout(function () {  resolve(); }, 6000);
    //     })
    // })


    function openTour(){
        tg.start()
    }

</script>

</body>
</html>